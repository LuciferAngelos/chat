(this["webpackJsonpvoice-chat"]=this["webpackJsonpvoice-chat"]||[]).push([[0],{150:function(e,t,n){},151:function(e,t,n){},185:function(e,t,n){},186:function(e,t){},187:function(e,t,n){},188:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=188},193:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),r=n(30),i=n.n(r),a=(n(150),n(11)),s=(n(151),n(110)),u=n(249),l=n(276),d=n(251),j=n(255),b=n(256),O=n(252),f=n(118),x=n.n(f),h=n(28),p=n(268),m=n(279),y=n(264),g=n(257),v="/chat",S="wss://getway.dev.viexpo.ru:8010",w=Object(c.createContext)(),U=n(53),k=n.n(U),_=n(71),E=n(23),D=n(18),I=n(113).create({baseURL:"https://getway.dev.viexpo.ru/api/"}),A=function(){return I.get("account/fake/get")},T="SET_USER_DATA",C="GET_CURRENT_USERS_LIST",F="USER_JOINED",L="USER_LEFT",N={users:[],self:{session_uuid:"",user_id:null,user_uuid:"",email:"",avatar:"",first_name:"",secon_name:"",last_name:"",phone:"",birthday:"",sex:"",company_uuid:"",company_name:"",company_position:"",company_role:null,system_role:null},isAuth:!1},P=function(e){return{type:T,payload:e}},R=n(2),M=function(e){var t=e.webSocket;return console.log("this is the socket => ",t),Object(R.jsxs)("div",{children:["\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0441\u043e\u043a\u0435\u0442",Object(R.jsx)("button",{onClick:function(){return t.current.close()},children:"close"})]})},G="INITIALIZED_SUCCESS",z="ON_LINK_GOTTEN",B="ON_DIALOG",V="GET_OUTPUT_PLAYER_VOICE_FROM_CLIENT",J="GET_OUTPUT_PLAYER_SCREEN_FROM_SERVER",W={initialized:!1,linkIsFetched:!1,linkForSS:"",type:1,onDialog:!1,outputPlayerVoiceFromClient:null,outputPlayerScreemFromSS:null},X=function(e){return{type:z,link:e}},Y=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),H={position:"absolute",top:"6%",right:"10%",width:400,maxHeight:"70vh",bgcolor:"background.paper",boxShadow:24,p:4,border:"1px solid grey",overflow:"auto"};var K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=!0===n?0:36,o="";!1===n&&(e.offset=t,o=e.readUtf8String(c)),e.offset=t+c+0;var r=e.readUInt32LE(),i={x:0,y:0,z:0};e.offset=t+c+4+0,i.x=e.readFloatLE(),e.offset=t+c+4+4,i.y=e.readFloatLE(),e.offset=t+c+4+8,i.z=e.readFloatLE(),e.offset=t+c+4+12;var a=e.readUInt8();return{uuid:o,id:r,position:i,state:a}},Z=function(e){var t=e.getUsersFromStore,n=(e.setScreenBlob,e.record),o=e.webSocket,r=Y(),i=Object(c.useState)(!1),u=Object(a.a)(i,2),f=u[0],v=u[1],S=Object(c.useState)(!1),U=Object(a.a)(S,2),k=U[0],_=U[1],E=Object(h.b)(),D=Object(c.useContext)(w),I=D.linkForSS,A=D.sessionTokenForSS,T=D.userUUID,N=D.getConnectionType,P=D.lobbyUUID,G=null,z=Object(c.useState)([]),B=Object(a.a)(z,2),V=B[0],J=B[1];return Object(c.useEffect)((function(){I&&o&&function e(){var t=I||console.log("Fetching the link...");G=new WebSocket(t),o&&(o.current=G);window.webSocketSS=G,G.binaryType="arraybuffer",G.onopen=function(){var e=new Uint8Array(77),t=new Uint8Array(new Uint32Array([0]).buffer),n=(new TextEncoder).encode(A),c=(new TextEncoder).encode(P);e.set(t,0),e.set(n,4),e.set(new Uint8Array([N]),40),e.set(c,41),G.send(e),1===G.readyState&&_(!0)},G.onmessage=function(e){var t=new s.BufferStream(e.data);t.offset=0;var n=t.readInt32LE();switch(n){case 9994:t.offset=4;for(var c=t.readUInt32LE(),o=[],r=0;r<c;r++){var i=K(t,8+53*r);i.uuid===T&&console.log("the uuid is the same"),o.push(i)}E(function(e){return{type:C,users:e}}(o)),console.log(JSON.stringify(o)),console.log("Method: FromMovement_FromPlayerScene_PlayerList, count: "+c,o);break;case 9992:var a=K(t,4);console.log("User Join: "+a.uuid),E(function(e){return{type:F,user:e}}(a));break;case 9993:t.offset=4;var u=t.readUtf8String(36);console.log("User Leave: "+u),E({type:L,userUuid:u});break;case 9996:K(t,4,!0);!function(e){var t=new Blob([e],{type:"audio/webm;codecs=opus"}),n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){var e=n.result,t=new Audio(e);t.addEventListener("canplay",(function(){t.play()}))}}(new Uint8Array(t.buffer.buffer,21));break;default:console.log("Method: Unknown")}console.log("WebSocket message received:",n)},G.onclose=function(t){console.log("Sound Server Socket closed. Trying to reconnect..."),console.log("Server closed with code => ",t.code),1!==G.readyState&&_(!1),1005!==t.code?setTimeout((function(){e()}),1e3):console.log("Socket was closed by user")},G.onerror=function(e){console.log("This error happened => ",e),G.close()};window.sendPlayerTick=function(e){return function(e,t,n){var c=new Uint8Array(17+n.byteLength),o=new Uint8Array(new Uint32Array([9991]).buffer);c.set(o,0),c.set(new Uint8Array(new Float32Array([e.x]).buffer),4),c.set(new Uint8Array(new Float32Array([e.y]).buffer),8),c.set(new Uint8Array(new Float32Array([e.z]).buffer),12),c.set(new Uint8Array([t]),16),c.set(n,17),1===G.readyState&&G.send(c)}({x:0,y:0,z:0},0,e)}}()}),[I,o]),Object(c.useMemo)((function(){k&&function e(){var t=setTimeout((function(){n?clearTimeout(t):(window.sendPlayerTick(new Uint8Array),e())}),4e3)}()}),[n,k]),Object(c.useMemo)((function(){J(t),console.log(V)}),[t,V]),Object(R.jsx)("div",{className:r.root,children:Object(R.jsx)(l.a,{position:"static",children:Object(R.jsxs)(d.a,{children:[Object(R.jsx)(O.a,{edge:"start",className:r.menuButton,color:"inherit","aria-label":"menu",children:Object(R.jsx)(x.a,{})}),o&&Object(R.jsx)(M,{webSocket:o}),Object(R.jsxs)(j.a,{variant:"h6",className:r.title,children:["Connection Status:",k?" Connected!":" Disconnected!"]}),Object(R.jsx)(b.a,{color:"inherit",onClick:function(){return v(!0)},children:"Users List"}),Object(R.jsx)(y.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:f,onClose:function(){return v(!1)},closeAfterTransition:!0,BackdropComponent:p.a,BackdropProps:{timeout:500},children:Object(R.jsx)(g.a,{in:f,children:Object(R.jsxs)(m.a,{sx:H,children:[Object(R.jsx)(j.a,{id:"transition-modal-title",variant:"h6",component:"h2",children:"Users connected:"}),0!==t.length?t.map((function(e){return T===e.uuid?Object(R.jsxs)(j.a,{id:"transition-modal-description",sx:{mt:2},children:["Self: ",Object(R.jsx)("span",{style:{color:"red"},children:e.uuid})]},e.id):Object(R.jsxs)(j.a,{id:"transition-modal-description",sx:{mt:2},children:["User's UUID: ",Object(R.jsx)("span",{style:{color:"blue"},children:e.uuid})]},e.id)})):Object(R.jsx)(j.a,{id:"transition-modal-description",sx:{mt:2},children:"Waiting for users"})]})})})]})})})},q=(n(184),n(120)),Q=n.n(q),$=n(121),ee=n.n($),te=n(258),ne=(n(185),Object(u.a)((function(e){return{icon:{height:38,width:38},reactmic:{width:"80%",height:30},flex:{flex:1}}})));function ce(e){var t=e.size,n=e.isAudio,o=e.setIsAudio,r=Object(c.useState)(!0),i=Object(a.a)(r,2),s=i[0],u=i[1],l=ne();return Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(te.a,{container:!0,justifyContent:"center",children:Object(R.jsx)(te.a,{item:!0,children:!n&&s?Object(R.jsx)(O.a,{onClick:function(){o(!0),u(!1)},children:Object(R.jsx)(Q.a,{className:l.icon,style:{width:t,height:t}})}):Object(R.jsx)(O.a,{onClick:function(){o(!1),u(!0)},children:Object(R.jsx)(ee.a,{className:l.icon,style:{width:t,height:t}})})})})})}var oe=n(15),re=n(65),ie=n(122),ae=Object(re.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(D.a)(Object(D.a)({},e),{},{initialized:!0});case B:return Object(D.a)(Object(D.a)({},e),{},{onDialog:!e.onDialog});case V:return Object(D.a)(Object(D.a)({},e),{},{outputPlayerVoiceFromClient:t.voice});case J:return Object(D.a)(Object(D.a)({},e),{},{outputPlayerScreemFromSS:t.screen});case z:return Object(D.a)(Object(D.a)({},e),{},{linkIsFetched:!0,linkForSS:t.link});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(D.a)(Object(D.a)({},e),{},{self:Object(D.a)({},t.payload),isAuth:!0});case C:return Object(D.a)(Object(D.a)({},e),{},{users:t.users});case F:return Object(D.a)(Object(D.a)({},e),{},{users:[].concat(Object(E.a)(e.users),[t.user])});case L:return Object(D.a)(Object(D.a)({},e),{},{users:e.users.filter((function(e){return e.uuid!=t.userUuid}))});default:return e}}}),se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||re.c,ue=Object(re.d)(ae,se(Object(re.a)(ie.a)));window.__store__=ue;var le=ue;n(186),n.p;var de=function(){return Object(R.jsxs)("div",{className:"lds-facebook",children:[Object(R.jsx)("div",{}),Object(R.jsx)("div",{}),Object(R.jsx)("div",{})]})},je=(n(259),n(272),n(8)),be=n(269),Oe=n(260),fe=n(280),xe=n(270),he=n(267),pe=n(271),me=n(265),ye=n(277),ge=n(261),ve=n(90),Se=n.n(ve),we=n(91),Ue=n.n(we),ke=n(274),_e=n(89),Ee=n.n(_e),De=n(93),Ie=n.n(De),Ae=["/tecpractice1","/tecpractice2","/tecpractice3","/tecpractice4","/tecpractice5","/tecpractice6"],Te=["/stand1","/stand2","/stand3","/stand4","/stand5","/stand6","/stand7","/stand8","/stand9","/stand10","/stand11","/stand12","/stand13","/stand14","/stand15","/stand16","/stand17","/stand18","/stand19","/stand20","/stand21","/stand22","/stand23"],Ce=(n(187),n(43)),Fe=n(123),Le=n.n(Fe),Ne=function(e){return(navigator.mediaDevices.getUserMedia||navigator.mediaDevices.webkitGetUserMedia||navigator.mediaDevices.mozGetUserMedia||navigator.mediaDevices.msGetUserMedia)({video:!!e&&{noiseSuppression:!0,width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080}},audio:!0})},Pe=["\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 1","\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 2","\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 3","\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 4 (Don't)","\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 5","\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 6"],Re=function(e){var t=e.getUsersFromStore,n=e.isAudio,o=e.setIsAudio,r=e.isVideo,i=(e.setIsVideo,Object(h.b)(),Object(c.useContext)(w).userUUID),s=Object(c.useState)(!0),u=Object(a.a)(s,2),l=u[0],d=u[1],b=Object(c.useState)(!1),O=Object(a.a)(b,2),f=O[0],x=O[1],p=Object(c.useState)(null),y=Object(a.a)(p,2),g=y[0],v=y[1],S=Object(c.useState)(null),U=Object(a.a)(S,2),k=(U[0],U[1]),_=Object(c.useState)(null),E=Object(a.a)(_,2),D=E[0],I=E[1],A=Object(c.useState)(null),T=Object(a.a)(A,2),C=T[0],F=T[1],L=Object(c.useRef)(),N=Object(c.useRef)();function P(){k(g.connect(z))}var M=Object(c.useState)(""),G=Object(a.a)(M,2),z=G[0],B=G[1];Object(c.useEffect)((function(){i&&v(function(e,t){return new Le.a(e,{secure:!0})}(i))}),[i]),Object(c.useEffect)((function(){g&&(g.on("open",(function(e){console.log("My peer ID is: "+e)})),g.on("connection",(function(e){k(e),console.log("connected with ",e)})),g.on("call",(function(e){Ne(r).then((function(t){I(t),e.answer(t),e.on("stream",(function(e){var t=new Audio;t.srcObject=e,t.autoplay=!0}))}))})))}),[g]),Object(c.useEffect)((function(){D&&(n&&!n||(D.getAudioTracks()[0].enabled=!D.getAudioTracks()[0].enabled))}),[D,n]),Object(c.useEffect)((function(){C&&(n&&!n||(C.getAudioTracks()[0].enabled=!C.getAudioTracks()[0].enabled))}),[C,n]);return Object(R.jsx)(te.a,{children:Object(R.jsxs)(m.a,{sx:{display:"flex"},children:[Object(R.jsx)(Oe.a,{}),Object(R.jsxs)(be.a,{variant:"permanent",sx:Object(je.a)({width:240,flexShrink:0},"& .MuiDrawer-paper",{marginTop:"5em",width:240,boxSizing:"border-box"}),children:[Object(R.jsxs)(m.a,{sx:{overflow:"auto"},children:[Object(R.jsxs)(fe.a,{children:[Object(R.jsxs)(ge.a,{onClick:function(){d(!l)},children:[Object(R.jsx)(pe.a,{children:Object(R.jsx)(Ee.a,{})}),Object(R.jsx)(me.a,{primary:"\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438"}),l?Object(R.jsx)(Se.a,{}):Object(R.jsx)(Ue.a,{})]}),Object(R.jsx)(ye.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Pe.map((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(R.jsx)(Ce.b,{to:Ae[t],style:{textDecoration:"none",color:"inherit",display:"block"},activeClassName:"activeLink",exact:!0,children:Object(R.jsxs)(he.a,{button:!0,sx:{pl:4},children:[Object(R.jsx)(pe.a,{children:Object(R.jsx)(Ie.a,{})}),Object(R.jsx)(me.a,{primary:e})]})},t)}))}),Object(R.jsx)(xe.a,{}),Object(R.jsxs)(ge.a,{onClick:function(){x(!f)},children:[Object(R.jsx)(pe.a,{children:Object(R.jsx)(Ee.a,{})}),Object(R.jsx)(me.a,{primary:"\u0421\u0442\u0435\u043d\u0434\u044b"}),f?Object(R.jsx)(Se.a,{}):Object(R.jsx)(Ue.a,{})]}),Object(R.jsx)(ye.a,{in:f,timeout:"auto",unmountOnExit:!0,children:Te.map((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(R.jsx)(Ce.b,{to:Te[t],style:{textDecoration:"none",color:"inherit",display:"block"},activeClassName:"activeLink",exact:!0,children:Object(R.jsxs)(he.a,{button:!0,sx:{pl:4},children:[Object(R.jsx)(pe.a,{children:Object(R.jsx)(Ie.a,{})}),Object(R.jsx)(me.a,{primary:e})]})},t)}))})]}),Object(R.jsx)(xe.a,{})]}),Object(R.jsx)(ce,{size:"1.5em",isAudio:n,setIsAudio:o})]}),Object(R.jsxs)(m.a,{sx:{width:"calc(100% - 240px)",display:"flex",flexDirection:"column"},children:[Object(R.jsxs)(m.a,{sx:{width:"100%",m:"1em auto",bgcolor:"background.paper",display:"flex",flexDirection:"row"},children:[Object(R.jsxs)(m.a,{component:"main",sx:{flexGrow:1,p:1},children:[Object(R.jsx)(ce,{size:"2em",isAudio:n,setIsAudio:o}),Object(R.jsx)(oe.c,{})]}),Object(R.jsx)(m.a,{sx:{marginTop:"2em",width:"100%",height:200,maxWidth:360,bgcolor:"background.paper"},children:Object(R.jsxs)(fe.a,{children:[Object(R.jsx)(me.a,{primary:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),0!==t.length?t.map((function(e,t){return e.uuid===i?Object(R.jsx)(he.a,{component:"div",disablePadding:!0,children:Object(R.jsx)(ge.a,{children:Object(R.jsx)(me.a,{primary:"\u042f: ".concat(e.uuid),sx:{color:"red"}})})},t):Object(R.jsx)(he.a,{component:"div",disablePadding:!0,children:Object(R.jsx)(ge.a,{children:Object(R.jsx)(me.a,{primary:e.uuid})})},t)})):Object(R.jsx)(de,{})]})})]}),Object(R.jsxs)(m.a,{sx:{width:"100%",margin:"0 auto",bgcolor:"background.paper",display:"flex",flexDirection:"row"},children:[Object(R.jsxs)(m.a,{sx:{marginLeft:".5em",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[Object(R.jsxs)(j.a,{paragraph:!0,children:["\u041c\u043e\u0439 ID ",i]}),Object(R.jsx)(ke.a,{sx:{marginBottom:"1em"},variant:"outlined",onClick:function(){},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u044e"}),Object(R.jsx)(ke.a,{variant:"outlined",onClick:function(){},children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u044e"}),Object(R.jsx)(ke.a,{variant:"outlined",onClick:function(){return function(e){P(),Ne(r).then((function(t){F(t),g.call(e,t).on("stream",(function(e){var t=new Audio;t.srcObject=e,t.autoplay=!0}))}))}(z)},children:"\u041f\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u044c"}),Object(R.jsx)("p",{children:"\u0432\u0432\u0435\u0434\u0438 \u0418\u0414 \u0437\u0434\u0435\u0441\u044c"}),Object(R.jsx)("input",{type:"text",onChange:function(e){return B(e.target.value)}})]}),Object(R.jsx)("video",{ref:L,autoPlay:!0,height:"200",width:"200"}),Object(R.jsx)("video",{ref:N,autoPlay:!0,height:"400",width:"100%"})]})]})]})})},Me=n(263),Ge=n(262),ze=function(e){var t=e.sessionUUID,n=e.lobbyUUID,o=e.setLobbyUUID,r=function(){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=new WebSocket(S);function o(){c.onopen=function(){console.log("GetWay Socket connected"),c.send(JSON.stringify({method:0,token:e,type:n}))},c.onmessage=function(e){var n=JSON.parse(e.data);if(console.log(n),void 0!=n.method)switch(n.method){case 1:console.log(n.user),console.log(),c.send(JSON.stringify({method:7,lobby_uuid:t}));break;case 8:var o="wss://".concat(n.ip,":").concat(n.port);le.dispatch(X(o));break;default:console.log("Unexpected method")}},c.onclose=function(){console.log("GetWay websocket closed. trying to reconnect..."),setTimeout((function(){o()}),1e3)}}o()}(t,n,1)},i=Object(c.useCallback)((function(e){o(e.target.value)}),[n,o]);return Object(R.jsxs)(m.a,{sx:{m:2},children:[Object(R.jsxs)(m.a,{sx:{m:2},children:[Object(R.jsx)(m.a,{sx:{m:1},children:"\u041d\u0430\u0436\u043c\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0439\u0442\u0438 \u0432 \u043e\u0431\u0449\u0443\u044e \u0433\u043e\u0432\u043e\u0440\u0438\u043b\u043a\u0443"}),Object(R.jsx)(Ce.b,{exact:!0,to:"/chat/lobby",style:{textDecoration:"none",color:"inherit"},children:Object(R.jsx)(ke.a,{variant:"outlined",onClick:r,children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u043e\u0431\u0449\u0435\u0435 \u043b\u043e\u0431\u0431\u0438"})})]}),Object(R.jsxs)(m.a,{sx:{marginTop:20},children:[Object(R.jsx)(m.a,{sx:{m:2},children:"\u0412\u0432\u0435\u0434\u0438 ID, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u0443 \u0438\u043b\u0438 \u0437\u0430\u043a\u043e\u043d\u043d\u0435\u043a\u0442\u0438\u0442\u044c\u0441\u044f \u0432 \u043d\u0435\u0451"}),Object(R.jsxs)(Ge.a,{spacing:2,direction:"row",justifyContent:"center",children:[Object(R.jsx)(Me.a,{onChange:i}),Object(R.jsx)(Ce.b,{exact:!0,to:v+"/lobby/".concat(n),style:{textDecoration:"none",color:"inherit"},children:Object(R.jsx)(ke.a,{variant:"outlined",onClick:r,children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0441\u0442\u0435\u043d\u0434"})})]})]})]})};var Be=function(){var e=Object(h.b)();Object(c.useEffect)((function(){e(function(){var e=Object(_.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t(function(){var e=Object(_.a)(k.a.mark((function e(t){var n,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:0===(n=e.sent).data.code&&(c=n.data.response.user,t(P(c)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Promise.all([n]).then((function(){t({type:G})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(c.useState)(!1),n=Object(a.a)(t,2),o=(n[0],n[1]),r=Object(c.useRef)(null),i=Object(c.useState)({linkForSS:"",sessionTokenForSS:"",userUUID:"",type:"",lobbyUUID:""}),s=Object(a.a)(i,2),u=s[0],l=s[1],d=Object(c.useState)(""),j=Object(a.a)(d,2),b=j[0],O=j[1],f=Object(c.useState)(!1),x=Object(a.a)(f,2),p=x[0],m=x[1],y=Object(c.useState)(!1),g=Object(a.a)(y,2),S=g[0],U=g[1],E=Object(h.c)((function(e){return e.app.linkIsFetched})),D=Object(h.c)((function(e){return e.app.linkForSS})),I=Object(h.c)((function(e){return e.users.self.session_uuid})),T=Object(h.c)((function(e){return e.users.self.user_uuid})),C=Object(h.c)((function(e){return e.app.type})),F=Object(h.c)((function(e){return e.users.users}));return Object(c.useMemo)((function(){e(X),l({linkForSS:D,sessionTokenForSS:I,userUUID:T,getConnectionType:C,lobbyUUID:b})}),[D,I,T,C,b]),Object(c.useMemo)((function(){o(E)}),[E]),Object(R.jsx)(w.Provider,{value:u,children:Object(R.jsxs)("div",{className:"home",style:{textAlign:"center"},children:[Object(R.jsx)(Z,{getUsersFromStore:F,record:p,setIsAudio:m,webSocket:r}),Object(R.jsxs)(oe.c,{children:[Object(R.jsx)(oe.a,{exact:!0,path:v,render:function(){return Object(R.jsx)(ze,{lobbyUUID:b,setLobbyUUID:O,sessionUUID:I})}}),Object(R.jsx)(oe.a,{exact:!0,path:v+"/lobby/".concat(b),render:function(){return Object(R.jsx)(Re,{getUsersFromStore:F,isAudio:p,setIsAudio:m,isVideo:S,setIsVideo:U,linkForSS:D,userUUID:T})}}),Object(R.jsx)(oe.a,{path:"*",render:function(){return Object(R.jsx)("div",{children:" 404 Page not found!"})}})]})]})})},Ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,281)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),r(e),i(e)}))};i.a.render(Object(R.jsx)(o.a.StrictMode,{children:Object(R.jsx)(Ce.a,{children:Object(R.jsx)(h.a,{store:le,children:Object(R.jsx)(Be,{})})})}),document.getElementById("root")),Ve()}},[[193,1,2]]]);
//# sourceMappingURL=main.59f38bfa.chunk.js.map