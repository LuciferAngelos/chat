(this["webpackJsonpvoice-chat"]=this["webpackJsonpvoice-chat"]||[]).push([[0],{152:function(e,t,n){},153:function(e,t,n){},186:function(e,t,n){},187:function(e,t){},188:function(e,t,n){},189:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=189},194:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),i=n(30),r=n.n(i),s=(n(152),n(11)),a=(n(153),n(110)),u=n(246),l=n(273),d=n(248),j=n(252),b=n(253),O=n(249),f=n(118),x=n.n(f),h=n(28),p=n(265),m=n(276),y=n(261),g=n(254),v="/chat",S="wss://getway.dev.viexpo.ru:8010",w=Object(c.createContext)(),k=n(53),U=n.n(k),_=n(71),E=n(23),I=n(15),T=n(113).create({baseURL:"https://getway.dev.viexpo.ru/api/"}),D=function(){return T.get("account/fake/get")},A="SET_USER_DATA",C="GET_CURRENT_USERS_LIST",F="USER_JOINED",L="USER_LEFT",N={users:[],self:{session_uuid:"",user_id:null,user_uuid:"",email:"",avatar:"",first_name:"",secon_name:"",last_name:"",phone:"",birthday:"",sex:"",company_uuid:"",company_name:"",company_position:"",company_role:null,system_role:null},isAuth:!1},R=function(e){return{type:A,payload:e}},P=n(2),V=function(e){var t=e.webSocket;return console.log("this is the socket => ",t),Object(P.jsxs)("div",{children:["\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0441\u043e\u043a\u0435\u0442",Object(P.jsx)("button",{onClick:function(){return t.current.close()},children:"close"})]})},M="INITIALIZED_SUCCESS",G="ON_LINK_GOTTEN",z="ON_DIALOG",B="GET_OUTPUT_PLAYER_VOICE_FROM_CLIENT",J="GET_OUTPUT_PLAYER_SCREEN_FROM_SERVER",W={initialized:!1,linkIsFetched:!1,linkForSS:"",type:1,onDialog:!1,outputPlayerVoiceFromClient:null,outputPlayerScreemFromSS:null},X=function(e){return{type:G,link:e}},Y=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),H={position:"absolute",top:"6%",right:"10%",width:400,maxHeight:"70vh",bgcolor:"background.paper",boxShadow:24,p:4,border:"1px solid grey",overflow:"auto"};var K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=!0===n?0:36,o="";!1===n&&(e.offset=t,o=e.readUtf8String(c)),e.offset=t+c+0;var i=e.readUInt32LE(),r={x:0,y:0,z:0};e.offset=t+c+4+0,r.x=e.readFloatLE(),e.offset=t+c+4+4,r.y=e.readFloatLE(),e.offset=t+c+4+8,r.z=e.readFloatLE(),e.offset=t+c+4+12;var s=e.readUInt8();return{uuid:o,id:i,position:r,state:s}},Z=function(e){var t=e.getUsersFromStore,n=(e.setScreenBlob,e.record),o=e.webSocket,i=Y(),r=Object(c.useState)(!1),u=Object(s.a)(r,2),f=u[0],v=u[1],S=Object(c.useState)(!1),k=Object(s.a)(S,2),U=k[0],_=k[1],E=Object(h.b)(),I=Object(c.useContext)(w),T=I.linkForSS,D=I.sessionTokenForSS,A=I.userUUID,N=I.getConnectionType,R=I.lobbyUUID,M=null,G=Object(c.useState)([]),z=Object(s.a)(G,2),B=z[0],J=z[1];return Object(c.useEffect)((function(){T&&o&&function e(){var t=T||console.log("Fetching the link...");M=new WebSocket(t),o&&(o.current=M);window.webSocketSS=M,M.binaryType="arraybuffer",M.onopen=function(){var e=new Uint8Array(77),t=new Uint8Array(new Uint32Array([0]).buffer),n=(new TextEncoder).encode(D),c=(new TextEncoder).encode(R);e.set(t,0),e.set(n,4),e.set(new Uint8Array([N]),40),e.set(c,41),M.send(e),1===M.readyState&&_(!0)},M.onmessage=function(e){var t=new a.BufferStream(e.data);t.offset=0;var n=t.readInt32LE();switch(n){case 9994:t.offset=4;for(var c=t.readUInt32LE(),o=[],i=0;i<c;i++){var r=K(t,8+53*i);r.uuid===A&&console.log("the uuid is the same"),o.push(r)}E(function(e){return{type:C,users:e}}(o)),console.log(JSON.stringify(o)),console.log("Method: FromMovement_FromPlayerScene_PlayerList, count: "+c,o);break;case 9992:var s=K(t,4);console.log("User Join: "+s.uuid),E(function(e){return{type:F,user:e}}(s));break;case 9993:t.offset=4;var u=t.readUtf8String(36);console.log("User Leave: "+u),E({type:L,userUuid:u});break;case 9996:K(t,4,!0);!function(e){var t=new Blob([e],{type:"audio/webm;codecs=opus"}),n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){var e=n.result,t=new Audio(e);t.addEventListener("canplay",(function(){t.play()}))}}(new Uint8Array(t.buffer.buffer,21));break;default:console.log("Method: Unknown")}console.log("WebSocket message received:",n)},M.onclose=function(t){console.log("Sound Server Socket closed. Trying to reconnect..."),console.log("Server closed with code => ",t.code),1!==M.readyState&&_(!1),1005!==t.code?setTimeout((function(){e()}),1e3):console.log("Socket was closed by user")},M.onerror=function(e){console.log("This error happened => ",e),M.close()};window.sendPlayerTick=function(e){return function(e,t,n){var c=new Uint8Array(17+n.byteLength),o=new Uint8Array(new Uint32Array([9991]).buffer);c.set(o,0),c.set(new Uint8Array(new Float32Array([e.x]).buffer),4),c.set(new Uint8Array(new Float32Array([e.y]).buffer),8),c.set(new Uint8Array(new Float32Array([e.z]).buffer),12),c.set(new Uint8Array([t]),16),c.set(n,17),1===M.readyState&&M.send(c)}({x:0,y:0,z:0},0,e)}}()}),[T,o]),Object(c.useMemo)((function(){U&&function e(){var t=setTimeout((function(){n?clearTimeout(t):(window.sendPlayerTick(new Uint8Array),e())}),4e3)}()}),[n,U]),Object(c.useMemo)((function(){J(t),console.log(B)}),[t,B]),Object(P.jsx)("div",{className:i.root,children:Object(P.jsx)(l.a,{position:"static",children:Object(P.jsxs)(d.a,{children:[Object(P.jsx)(O.a,{edge:"start",className:i.menuButton,color:"inherit","aria-label":"menu",children:Object(P.jsx)(x.a,{})}),o&&Object(P.jsx)(V,{webSocket:o}),Object(P.jsxs)(j.a,{variant:"h6",className:i.title,children:["Connection Status:",U?" Connected!":" Disconnected!"]}),Object(P.jsx)(b.a,{color:"inherit",onClick:function(){return v(!0)},children:"Users List"}),Object(P.jsx)(y.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:f,onClose:function(){return v(!1)},closeAfterTransition:!0,BackdropComponent:p.a,BackdropProps:{timeout:500},children:Object(P.jsx)(g.a,{in:f,children:Object(P.jsxs)(m.a,{sx:H,children:[Object(P.jsx)(j.a,{id:"transition-modal-title",variant:"h6",component:"h2",children:"Users connected:"}),0!==t.length?t.map((function(e){return A===e.uuid?Object(P.jsxs)(j.a,{id:"transition-modal-description",sx:{mt:2},children:["Self: ",Object(P.jsx)("span",{style:{color:"red"},children:e.uuid})]},e.id):Object(P.jsxs)(j.a,{id:"transition-modal-description",sx:{mt:2},children:["User's UUID: ",Object(P.jsx)("span",{style:{color:"blue"},children:e.uuid})]},e.id)})):Object(P.jsx)(j.a,{id:"transition-modal-description",sx:{mt:2},children:"Waiting for users"})]})})})]})})})},q=n(122),Q=n.n(q),$=n(123),ee=n.n($),te=n(120),ne=n.n(te),ce=n(121),oe=n.n(ce),ie=n(255),re=(n(186),Object(u.a)((function(e){return{icon:{height:38,width:38},reactmic:{width:"80%",height:30},flex:{flex:1}}})));function se(e){var t=e.size,n=e.isAudio,c=e.setIsAudio,o=e.isVideo,i=e.setIsVideo,r=re();return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(ie.a,{container:!0,justifyContent:"center",children:Object(P.jsxs)(ie.a,{item:!0,children:[o?Object(P.jsx)(O.a,{onClick:function(){i(!1)},children:Object(P.jsx)(oe.a,{className:r.icon,style:{width:t,height:t}})}):Object(P.jsx)(O.a,{onClick:function(){i(!0)},children:Object(P.jsx)(ne.a,{className:r.icon,style:{width:t,height:t}})}),n?Object(P.jsx)(O.a,{onClick:function(){c(!1)},children:Object(P.jsx)(ee.a,{className:r.icon,style:{width:t,height:t}})}):Object(P.jsx)(O.a,{onClick:function(){c(!0)},children:Object(P.jsx)(Q.a,{className:r.icon,style:{width:t,height:t}})})]})})})}var ae=n(16),ue=n(64),le=n(124),de=Object(ue.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(I.a)(Object(I.a)({},e),{},{initialized:!0});case z:return Object(I.a)(Object(I.a)({},e),{},{onDialog:!e.onDialog});case B:return Object(I.a)(Object(I.a)({},e),{},{outputPlayerVoiceFromClient:t.voice});case J:return Object(I.a)(Object(I.a)({},e),{},{outputPlayerScreemFromSS:t.screen});case G:return Object(I.a)(Object(I.a)({},e),{},{linkIsFetched:!0,linkForSS:t.link});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(I.a)(Object(I.a)({},e),{},{self:Object(I.a)({},t.payload),isAuth:!0});case C:return Object(I.a)(Object(I.a)({},e),{},{users:t.users});case F:return Object(I.a)(Object(I.a)({},e),{},{users:[].concat(Object(E.a)(e.users),[t.user])});case L:return Object(I.a)(Object(I.a)({},e),{},{users:e.users.filter((function(e){return e.uuid!=t.userUuid}))});default:return e}}}),je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ue.c,be=Object(ue.d)(de,je(Object(ue.a)(le.a)));window.__store__=be;var Oe=be;n(187),n.p;var fe=function(){return Object(P.jsxs)("div",{className:"lds-facebook",children:[Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{})]})},xe=(n(256),n(268),n(8)),he=n(266),pe=n(257),me=n(271),ye=n(272),ge=n(264),ve=n(277),Se=n(263),we=n(275),ke=n(258),Ue=n(90),_e=n.n(Ue),Ee=n(91),Ie=n.n(Ee),Te=n(267),De=n(89),Ae=n.n(De),Ce=n(93),Fe=n.n(Ce),Le=["/tecpractice1","/tecpractice2","/tecpractice3","/tecpractice4","/tecpractice5","/tecpractice6"],Ne=["/stand1","/stand2","/stand3","/stand4","/stand5","/stand6","/stand7","/stand8","/stand9","/stand10","/stand11","/stand12","/stand13","/stand14","/stand15","/stand16","/stand17","/stand18","/stand19","/stand20","/stand21","/stand22","/stand23"],Re=(n(188),n(45)),Pe=n(125),Ve=n.n(Pe),Me=function(){return(navigator.mediaDevices.getUserMedia||navigator.mediaDevices.webkitGetUserMedia||navigator.mediaDevices.mozGetUserMedia||navigator.mediaDevices.msGetUserMedia)({video:{noiseSuppression:!0,width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080}},audio:!0})},Ge=function(e,t,n,c,o){if(!t[n.id]){t[n.id]=Object(I.a)({},n),console.log(t);var i=c,r=document.createElement("div"),s=document.createElement("video");0===o&&s.classList.add("internalVideo"),1===o&&s.classList.add("externalVideo"),s.srcObject=t[n.id].stream,s.id=n.id,s.autoplay=!0,e===n.id&&(s.muted=!0),r.appendChild(s),i.append(r)}},ze=["\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 1","\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 2","\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 3","\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 4 (Don't)","\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 5","\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 6"],Be=function(e){var t=e.getUsersFromStore,n=e.isAudio,o=e.setIsAudio,i=e.isVideo,r=e.setIsVideo,a=(Object(h.b)(),Object(c.useContext)(w).userUUID),u={},l=Object(c.useState)(!0),d=Object(s.a)(l,2),b=d[0],O=d[1],f=Object(c.useState)(!1),x=Object(s.a)(f,2),p=x[0],y=x[1],g=Object(c.useState)(null),v=Object(s.a)(g,2),S=v[0],k=v[1],U=Object(c.useState)(null),_=Object(s.a)(U,2),E=(_[0],_[1]),I=Object(c.useState)(null),T=Object(s.a)(I,2),D=T[0],A=T[1],C=Object(c.useState)(null),F=Object(s.a)(C,2),L=F[0],N=F[1],R=(Object(c.useRef)(),Object(c.useRef)(),Object(c.useRef)());function V(){E(S.connect(z))}var M=Object(c.useState)(""),G=Object(s.a)(M,2),z=G[0],B=G[1];Object(c.useEffect)((function(){a&&k(function(e,t){return new Ve.a(e,{secure:!0})}(a))}),[a]),Object(c.useEffect)((function(){S&&(S.on("open",(function(e){console.log("My peer ID is: "+e)})),S.on("connection",(function(e){E(e),console.log("connected with ",e)})),S.on("call",(function(e){Me().then((function(t){t&&(A(t),Ge(a,u,{id:a,stream:t},R.current,0),e.answer(t),e.on("stream",(function(e){Ge(a,u,{id:z,stream:e},R.current,1);var t=new Audio;t.srcObject=e,t.autoplay=!0})))}))})))}),[S]),Object(c.useEffect)((function(){D&&(n&&!n||(D.getAudioTracks()[0].enabled=!D.getAudioTracks()[0].enabled),i&&!i||(D.getVideoTracks()[0].enabled=!D.getVideoTracks()[0].enabled))}),[D,n,i]),Object(c.useEffect)((function(){L&&(n&&!n||(L.getAudioTracks()[0].enabled=!L.getAudioTracks()[0].enabled),i&&!i||(L.getVideoTracks()[0].enabled=!L.getVideoTracks()[0].enabled))}),[L,n,i]);return Object(P.jsx)(ie.a,{children:Object(P.jsxs)(m.a,{sx:{display:"flex"},children:[Object(P.jsx)(pe.a,{}),Object(P.jsxs)(he.a,{variant:"permanent",sx:Object(xe.a)({width:240,flexShrink:0},"& .MuiDrawer-paper",{marginTop:"5em",width:240,boxSizing:"border-box"}),children:[Object(P.jsxs)(m.a,{sx:{overflow:"auto"},children:[Object(P.jsxs)(me.a,{children:[Object(P.jsxs)(ke.a,{onClick:function(){O(!b)},children:[Object(P.jsx)(ve.a,{children:Object(P.jsx)(Ae.a,{})}),Object(P.jsx)(Se.a,{primary:"\u0422\u0435\u0445\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438"}),b?Object(P.jsx)(_e.a,{}):Object(P.jsx)(Ie.a,{})]}),Object(P.jsx)(we.a,{in:b,timeout:"auto",unmountOnExit:!0,children:ze.map((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(P.jsx)(Re.b,{to:Le[t],style:{textDecoration:"none",color:"inherit",display:"block"},activeClassName:"activeLink",exact:!0,children:Object(P.jsxs)(ge.a,{button:!0,sx:{pl:4},children:[Object(P.jsx)(ve.a,{children:Object(P.jsx)(Fe.a,{})}),Object(P.jsx)(Se.a,{primary:e})]})},t)}))}),Object(P.jsx)(ye.a,{}),Object(P.jsxs)(ke.a,{onClick:function(){y(!p)},children:[Object(P.jsx)(ve.a,{children:Object(P.jsx)(Ae.a,{})}),Object(P.jsx)(Se.a,{primary:"\u0421\u0442\u0435\u043d\u0434\u044b"}),p?Object(P.jsx)(_e.a,{}):Object(P.jsx)(Ie.a,{})]}),Object(P.jsx)(we.a,{in:p,timeout:"auto",unmountOnExit:!0,children:Ne.map((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(P.jsx)(Re.b,{to:Ne[t],style:{textDecoration:"none",color:"inherit",display:"block"},activeClassName:"activeLink",exact:!0,children:Object(P.jsxs)(ge.a,{button:!0,sx:{pl:4},children:[Object(P.jsx)(ve.a,{children:Object(P.jsx)(Fe.a,{})}),Object(P.jsx)(Se.a,{primary:e})]})},t)}))})]}),Object(P.jsx)(ye.a,{})]}),Object(P.jsx)(se,{size:"1.5em",isAudio:n,setIsAudio:o,isVideo:i,setIsVideo:r})]}),Object(P.jsxs)(m.a,{sx:{width:"calc(100% - 240px)",display:"flex",flexDirection:"column"},children:[Object(P.jsxs)(m.a,{sx:{width:"100%",m:"1em auto",bgcolor:"background.paper",display:"flex",flexDirection:"row"},children:[Object(P.jsxs)(m.a,{component:"main",sx:{flexGrow:1,p:1},children:[Object(P.jsx)(se,{size:"2em",isAudio:n,setIsAudio:o,isVideo:i,setIsVideo:r}),Object(P.jsx)(ae.c,{})]}),Object(P.jsx)(m.a,{sx:{marginTop:"2em",width:"100%",height:200,maxWidth:360,bgcolor:"background.paper"},children:Object(P.jsxs)(me.a,{children:[Object(P.jsx)(Se.a,{primary:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),0!==t.length?t.map((function(e,t){return e.uuid===a?Object(P.jsx)(ge.a,{component:"div",disablePadding:!0,children:Object(P.jsx)(ke.a,{children:Object(P.jsx)(Se.a,{primary:"\u042f: ".concat(e.uuid),sx:{color:"red"}})})},t):Object(P.jsx)(ge.a,{component:"div",disablePadding:!0,children:Object(P.jsx)(ke.a,{children:Object(P.jsx)(Se.a,{primary:e.uuid})})},t)})):Object(P.jsx)(fe,{})]})})]}),Object(P.jsxs)(m.a,{sx:{width:"100%",margin:"0 auto",bgcolor:"background.paper",display:"flex",flexDirection:"row"},children:[Object(P.jsxs)(m.a,{sx:{marginLeft:".5em",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[Object(P.jsxs)(j.a,{paragraph:!0,children:["\u041c\u043e\u0439 ID ",a]}),Object(P.jsx)(Te.a,{sx:{marginBottom:"1em"},variant:"outlined",onClick:function(){},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u044e"}),Object(P.jsx)(Te.a,{variant:"outlined",onClick:function(){},children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u044e"}),Object(P.jsx)(Te.a,{variant:"outlined",onClick:function(){return function(e){V(),Me().then((function(t){t&&(N(t),Ge(a,u,{id:a,stream:t},R.current,0),S.call(e,t).on("stream",(function(t){Ge(a,u,{id:e,stream:t},R.current,1);var n=new Audio;n.srcObject=t,n.autoplay=!0})))}))}(z)},children:"\u041f\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u044c"}),Object(P.jsx)("p",{children:"\u0432\u0432\u0435\u0434\u0438 \u0418\u0414 \u0437\u0434\u0435\u0441\u044c"}),Object(P.jsx)("input",{type:"text",onChange:function(e){return B(e.target.value)}})]}),Object(P.jsx)(m.a,{ref:R,sx:{marginLeft:".5em",display:"flex",flexDirection:"column",justifyContent:"flex-start"}})]})]})]})})},Je=n(260),We=n(259),Xe=function(e){var t=e.sessionUUID,n=e.lobbyUUID,o=e.setLobbyUUID,i=function(){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=new WebSocket(S);function o(){c.onopen=function(){console.log("GetWay Socket connected"),c.send(JSON.stringify({method:0,token:e,type:n}))},c.onmessage=function(e){var n=JSON.parse(e.data);if(console.log(n),void 0!=n.method)switch(n.method){case 1:console.log(n.user),console.log(),c.send(JSON.stringify({method:7,lobby_uuid:t}));break;case 8:var o="wss://".concat(n.ip,":").concat(n.port);Oe.dispatch(X(o));break;default:console.log("Unexpected method")}},c.onclose=function(){console.log("GetWay websocket closed. trying to reconnect..."),setTimeout((function(){o()}),1e3)}}o()}(t,n,1)},r=Object(c.useCallback)((function(e){o(e.target.value)}),[n,o]);return Object(P.jsxs)(m.a,{sx:{m:2},children:[Object(P.jsxs)(m.a,{sx:{m:2},children:[Object(P.jsx)(m.a,{sx:{m:1},children:"\u041d\u0430\u0436\u043c\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0439\u0442\u0438 \u0432 \u043e\u0431\u0449\u0443\u044e \u0433\u043e\u0432\u043e\u0440\u0438\u043b\u043a\u0443"}),Object(P.jsx)(Re.b,{exact:!0,to:"/chat/lobby",style:{textDecoration:"none",color:"inherit"},children:Object(P.jsx)(Te.a,{variant:"outlined",onClick:i,children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u043e\u0431\u0449\u0435\u0435 \u043b\u043e\u0431\u0431\u0438"})})]}),Object(P.jsxs)(m.a,{sx:{marginTop:20},children:[Object(P.jsx)(m.a,{sx:{m:2},children:"\u0412\u0432\u0435\u0434\u0438 ID, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u0443 \u0438\u043b\u0438 \u0437\u0430\u043a\u043e\u043d\u043d\u0435\u043a\u0442\u0438\u0442\u044c\u0441\u044f \u0432 \u043d\u0435\u0451"}),Object(P.jsxs)(We.a,{spacing:2,direction:"row",justifyContent:"center",children:[Object(P.jsx)(Je.a,{onChange:r}),Object(P.jsx)(Re.b,{exact:!0,to:v+"/lobby/".concat(n),style:{textDecoration:"none",color:"inherit"},children:Object(P.jsx)(Te.a,{variant:"outlined",onClick:i,children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0441\u0442\u0435\u043d\u0434"})})]})]})]})};var Ye=function(){var e=Object(h.b)();Object(c.useEffect)((function(){e(function(){var e=Object(_.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t(function(){var e=Object(_.a)(U.a.mark((function e(t){var n,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:0===(n=e.sent).data.code&&(c=n.data.response.user,t(R(c)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Promise.all([n]).then((function(){t({type:M})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(c.useState)(!1),n=Object(s.a)(t,2),o=(n[0],n[1]),i=Object(c.useRef)(null),r=Object(c.useState)({linkForSS:"",sessionTokenForSS:"",userUUID:"",type:"",lobbyUUID:""}),a=Object(s.a)(r,2),u=a[0],l=a[1],d=Object(c.useState)(""),j=Object(s.a)(d,2),b=j[0],O=j[1],f=Object(c.useState)(!1),x=Object(s.a)(f,2),p=x[0],m=x[1],y=Object(c.useState)(!1),g=Object(s.a)(y,2),S=g[0],k=g[1],E=Object(h.c)((function(e){return e.app.linkIsFetched})),I=Object(h.c)((function(e){return e.app.linkForSS})),T=Object(h.c)((function(e){return e.users.self.session_uuid})),A=Object(h.c)((function(e){return e.users.self.user_uuid})),C=Object(h.c)((function(e){return e.app.type})),F=Object(h.c)((function(e){return e.users.users}));return Object(c.useMemo)((function(){e(X),l({linkForSS:I,sessionTokenForSS:T,userUUID:A,getConnectionType:C,lobbyUUID:b})}),[I,T,A,C,b]),Object(c.useMemo)((function(){o(E)}),[E]),Object(P.jsx)(w.Provider,{value:u,children:Object(P.jsxs)("div",{className:"home",style:{textAlign:"center"},children:[Object(P.jsx)(Z,{getUsersFromStore:F,record:p,setIsAudio:m,webSocket:i}),Object(P.jsxs)(ae.c,{children:[Object(P.jsx)(ae.a,{exact:!0,path:v,render:function(){return Object(P.jsx)(Xe,{lobbyUUID:b,setLobbyUUID:O,sessionUUID:T})}}),Object(P.jsx)(ae.a,{exact:!0,path:v+"/lobby/".concat(b),render:function(){return Object(P.jsx)(Be,{getUsersFromStore:F,isAudio:p,setIsAudio:m,isVideo:S,setIsVideo:k,linkForSS:I,userUUID:A})}}),Object(P.jsx)(ae.a,{path:"*",render:function(){return Object(P.jsx)("div",{children:" 404 Page not found!"})}})]})]})})},He=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,278)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),i(e),r(e)}))};r.a.render(Object(P.jsx)(o.a.StrictMode,{children:Object(P.jsx)(Re.a,{children:Object(P.jsx)(h.a,{store:Oe,children:Object(P.jsx)(Ye,{})})})}),document.getElementById("root")),He()}},[[194,1,2]]]);
//# sourceMappingURL=main.fb7228ea.chunk.js.map